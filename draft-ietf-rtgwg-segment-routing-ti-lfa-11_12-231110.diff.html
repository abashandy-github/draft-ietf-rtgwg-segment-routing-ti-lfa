<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.45: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux 2f2f3b95553e 5.14.21-150400.24.38-default #1 SMP PREEMPT_DYNAMIC Fri Dec 9 09:29:22 UTC 2022 (e9c5676) x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 5.1.0, API: 3.0 (GNU MPFR 4.1.0, GNU MP 6.2.1) --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.8 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.2 --> 
<html xmlns="http://www.w3.org/1999/xhtml"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: draft-ietf-rtgwg-segment-routing-ti-lfa-11.txt - draft-ietf-rtgwg-segment-routing-ti-lfa-12.txt</title> 
  <style type="text/css"> 
    body    { margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
    span.hide { display: none; color: #aaa;}    a:hover span { display: inline; }    tr.change { background-color: gray; } 
    tr.change a { text-decoration: none; color: black } 
  </style> 
     <script>
var chunk_index = 0;
var old_chunk = null;

function format_chunk(index) {
    var prefix = "diff";
    var str = index.toString();
    for (x=0; x<(4-str.length); ++x) {
        prefix+='0';
    }
    return prefix + str;
}

function find_chunk(n){
    return document.querySelector('tr[id$="' + n + '"]');
}

function change_chunk(offset) {
    var index = chunk_index + offset;
    var new_str;
    var new_chunk;

    new_str = format_chunk(index);
    new_chunk = find_chunk(new_str);
    if (!new_chunk) {
        return;
    }
    if (old_chunk) {
        old_chunk.style.outline = "";
    }
    old_chunk = new_chunk;
    old_chunk.style.outline = "1px solid red";
    window.location.hash = "#" + new_str;
    window.scrollBy(0,-100);
    chunk_index = index;
}

document.onkeydown = function(e) {
    switch (e.keyCode) {
    case 78:
        change_chunk(1);
        break;
    case 80:
        change_chunk(-1);
        break;
    }
};
   </script> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr id="part-1" bgcolor="orange"><th></th><th>&nbsp;draft-ietf-rtgwg-segment-routing-ti-lfa-11.txt&nbsp;</th><th> </th><th>&nbsp;draft-ietf-rtgwg-segment-routing-ti-lfa-12.txt&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">Network Working Group                                       S. Litkowski</td><td> </td><td class="right">Network Working Group                                       S. Litkowski</td><td class="lineno"></td></tr>
      <tr id="diff0001"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">Internet-Draft                                             <span class="delete">Cisco Systems</span></td><td> </td><td class="rblock">Internet-Draft                                               <span class="insert">A. Bashandy</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">Intended status: Standards Track                             <span class="delete">A. Bashandy</span></td><td> </td><td class="rblock">Intended status: Standards Track                             C. Filsfils</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"><span class="delete">Expires: 1 January 2024                                       Individual</span></td><td> </td><td class="rblock"><span class="insert">Expires: 13 May 2024</span>                                       Cisco Systems</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">                                                             C. Filsfils</td><td> </td><td class="rblock"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">                                                           Cisco Systems</td><td> </td><td class="rblock"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">                                                             P. Francois</td><td> </td><td class="right">                                                             P. Francois</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">                                                               INSA Lyon</td><td> </td><td class="right">                                                               INSA Lyon</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">                                                             B. Decraene</td><td> </td><td class="right">                                                             B. Decraene</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">                                                                  Orange</td><td> </td><td class="right">                                                                  Orange</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">                                                                D. Voyer</td><td> </td><td class="right">                                                                D. Voyer</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">                                                             Bell Canada</td><td> </td><td class="right">                                                             Bell Canada</td><td class="lineno"></td></tr>
      <tr id="diff0002"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">                                                        <span class="delete">    30 June</span> 2023</td><td> </td><td class="rblock">                                                        <span class="insert">10 November</span> 2023</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">        Topology Independent Fast Reroute using Segment Routing</td><td> </td><td class="right">        Topology Independent Fast Reroute using Segment Routing</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">               draft-ietf-rtgwg-segment-routing-ti-lfa-11</td><td> </td><td class="right">               draft-ietf-rtgwg-segment-routing-ti-lfa-11</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">Abstract</td><td> </td><td class="right">Abstract</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   This document presents Topology Independent Loop-free Alternate Fast</td><td> </td><td class="right">   This document presents Topology Independent Loop-free Alternate Fast</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Re-route (TI-LFA), aimed at providing protection of node and</td><td> </td><td class="right">   Re-route (TI-LFA), aimed at providing protection of node and</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   adjacency segments within the Segment Routing (SR) framework.  This</td><td> </td><td class="right">   adjacency segments within the Segment Routing (SR) framework.  This</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Fast Re-route (FRR) behavior builds on proven IP-FRR concepts being</td><td> </td><td class="right">   Fast Re-route (FRR) behavior builds on proven IP-FRR concepts being</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="part-2" class="change" ><td></td><th><small>skipping to change at</small><a href="#part-2"><em> page 1, line 49<span class="hide"> &para;</span></em></a></th><th> </th><th><small>skipping to change at</small><a href="#part-2"><em> page 1, line 47<span class="hide"> &para;</span></em></a></th><td></td></tr>
      <tr><td class="lineno"></td><td class="left">   Internet-Drafts are working documents of the Internet Engineering</td><td> </td><td class="right">   Internet-Drafts are working documents of the Internet Engineering</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Task Force (IETF).  Note that other groups may also distribute</td><td> </td><td class="right">   Task Force (IETF).  Note that other groups may also distribute</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   working documents as Internet-Drafts.  The list of current Internet-</td><td> </td><td class="right">   working documents as Internet-Drafts.  The list of current Internet-</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Drafts is at https://datatracker.ietf.org/drafts/current/.</td><td> </td><td class="right">   Drafts is at https://datatracker.ietf.org/drafts/current/.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Internet-Drafts are draft documents valid for a maximum of six months</td><td> </td><td class="right">   Internet-Drafts are draft documents valid for a maximum of six months</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   and may be updated, replaced, or obsoleted by other documents at any</td><td> </td><td class="right">   and may be updated, replaced, or obsoleted by other documents at any</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   time.  It is inappropriate to use Internet-Drafts as reference</td><td> </td><td class="right">   time.  It is inappropriate to use Internet-Drafts as reference</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   material or to cite them other than as "work in progress."</td><td> </td><td class="right">   material or to cite them other than as "work in progress."</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="diff0003"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   This Internet-Draft will expire on 1<span class="delete"> Januar</span>y 2024.</td><td> </td><td class="rblock">   This Internet-Draft will expire on 1<span class="insert">3 Ma</span>y 2024.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">Copyright Notice</td><td> </td><td class="right">Copyright Notice</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Copyright (c) 2023 IETF Trust and the persons identified as the</td><td> </td><td class="right">   Copyright (c) 2023 IETF Trust and the persons identified as the</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   document authors.  All rights reserved.</td><td> </td><td class="right">   document authors.  All rights reserved.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   This document is subject to BCP 78 and the IETF Trust's Legal</td><td> </td><td class="right">   This document is subject to BCP 78 and the IETF Trust's Legal</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Provisions Relating to IETF Documents (https://trustee.ietf.org/</td><td> </td><td class="right">   Provisions Relating to IETF Documents (https://trustee.ietf.org/</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   license-info) in effect on the date of publication of this document.</td><td> </td><td class="right">   license-info) in effect on the date of publication of this document.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Please review these documents carefully, as they describe your rights</td><td> </td><td class="right">   Please review these documents carefully, as they describe your rights</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   and restrictions with respect to this document.  Code Components</td><td> </td><td class="right">   and restrictions with respect to this document.  Code Components</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   extracted from this document must include Revised BSD License text as</td><td> </td><td class="right">   extracted from this document must include Revised BSD License text as</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   described in Section 4.e of the Trust Legal Provisions and are</td><td> </td><td class="right">   described in Section 4.e of the Trust Legal Provisions and are</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   provided without warranty as described in the Revised BSD License.</td><td> </td><td class="right">   provided without warranty as described in the Revised BSD License.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">Table of Contents</td><td> </td><td class="right">Table of Contents</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   1.  Acronyms  . . . . . . . . . . . . . . . . . . . . . . . . . .   3</td><td> </td><td class="right">   1.  Acronyms  . . . . . . . . . . . . . . . . . . . . . . . . . .   3</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   2.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   4</td><td> </td><td class="right">   2.  Introduction  . . . . . . . . . . . . . . . . . . . . . . . .   4</td><td class="lineno"></td></tr>
      <tr id="diff0004"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">     2.1.  Conventions used in this document . . . . . . . . . . . .   <span class="delete">6</span></td><td> </td><td class="rblock">     2.1.  Conventions used in this document . . . . . . . . . . . .   <span class="insert">7</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   3.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   <span class="delete">6</span></td><td> </td><td class="rblock">   3.  Terminology . . . . . . . . . . . . . . . . . . . . . . . . .   <span class="insert">7</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   4.  Base principle  . . . . . . . . . . . . . . . . . . . . . . .   <span class="delete">7</span></td><td> </td><td class="rblock">   4.  Base principle  . . . . . . . . . . . . . . . . . . . . . . .   <span class="insert">8</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   5.  Intersecting P-Space and Q-Space with post-convergence</td><td> </td><td class="right">   5.  Intersecting P-Space and Q-Space with post-convergence</td><td class="lineno"></td></tr>
      <tr id="diff0005"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">           paths . . . . . . . . . . . . . . . . . . . . . . . . . .   <span class="delete">7</span></td><td> </td><td class="rblock">           paths . . . . . . . . . . . . . . . . . . . . . . . . . .   <span class="insert">8</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">     5.1.  Extended P-Space property computation for a resource X,</td><td> </td><td class="right">     5.1.  Extended P-Space property computation for a resource X,</td><td class="lineno"></td></tr>
      <tr id="diff0006"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">           over post-convergence paths . . . . . . . . . . . . . . .   <span class="delete">7</span></td><td> </td><td class="rblock">           over post-convergence paths . . . . . . . . . . . . . . .   <span class="insert">8</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">     5.2.  Q-Space property computation for a resource X, over</td><td> </td><td class="right">     5.2.  Q-Space property computation for a resource X, over</td><td class="lineno"></td></tr>
      <tr id="diff0007"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">           post-convergence paths  . . . . . . . . . . . . . . . . .   <span class="delete">8</span></td><td> </td><td class="rblock">           post-convergence paths  . . . . . . . . . . . . . . . . .   <span class="insert">9</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">     5.3.  Scaling considerations when computing Q-Space . . . . . .   <span class="delete">8</span></td><td> </td><td class="rblock">     5.3.  Scaling considerations when computing Q-Space . . . . . .   <span class="insert">9</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   6.  TI-LFA Repair path  . . . . . . . . . . . . . . . . . . . . .   <span class="delete">8</span></td><td> </td><td class="rblock">   6.  TI-LFA Repair path  . . . . . . . . . . . . . . . . . . . . .   <span class="insert">9</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">     6.1.  FRR path using a direct neighbor  . . . . . . . . . . . .  <span class="delete">10</span></td><td> </td><td class="rblock">     6.1.  FRR path using a direct neighbor  . . . . . . . . . . . .  <span class="insert">11</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">     6.2.  FRR path using a PQ node  . . . . . . . . . . . . . . . .  <span class="delete">10</span></td><td> </td><td class="rblock">     6.2.  FRR path using a PQ node  . . . . . . . . . . . . . . . .  <span class="insert">11</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">     6.3.  FRR path using a P node and Q node that are adjacent  . .  <span class="delete">10</span></td><td> </td><td class="rblock">     6.3.  FRR path using a P node and Q node that are adjacent  . .  <span class="insert">11</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">     6.4.  Connecting distant P and Q nodes along post-convergence</td><td> </td><td class="right">     6.4.  Connecting distant P and Q nodes along post-convergence</td><td class="lineno"></td></tr>
      <tr id="diff0008"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">           paths . . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">10</span></td><td> </td><td class="rblock">           paths . . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">11</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   7.  Building TI-LFA repair lists  . . . . . . . . . . . . . . . .  <span class="delete">10</span></td><td> </td><td class="rblock">   7.  Building TI-LFA repair lists  . . . . . . . . . . . . . . . .  <span class="insert">11</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">     7.1.  The active segment is a node segment  . . . . . . . . . .  <span class="delete">11</span></td><td> </td><td class="rblock">     7.1.  The active segment is a node segment  . . . . . . . . . .  <span class="insert">12</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">     7.2.  The active segment is an adjacency segment  . . . . . . .  <span class="delete">11</span></td><td> </td><td class="rblock">     7.2.  The active segment is an adjacency segment  . . . . . . .  <span class="insert">12</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">       7.2.1.  Protecting [Adjacency, Adjacency] segment lists . . .  <span class="delete">11</span></td><td> </td><td class="rblock">       7.2.1.  Protecting [Adjacency, Adjacency] segment lists . . .  <span class="insert">12</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">       7.2.2.  Protecting [Adjacency, Node] segment lists  . . . . .  <span class="delete">12</span></td><td> </td><td class="rblock">       7.2.2.  Protecting [Adjacency, Node] segment lists  . . . . .  <span class="insert">13</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   8.  Dataplane specific considerations . . . . . . . . . . . . . .  <span class="delete">12</span></td><td> </td><td class="rblock">   8.  Dataplane specific considerations . . . . . . . . . . . . . .  <span class="insert">13</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">     8.1.  MPLS dataplane considerations . . . . . . . . . . . . . .  <span class="delete">12</span></td><td> </td><td class="rblock">     8.1.  MPLS dataplane considerations . . . . . . . . . . . . . .  <span class="insert">13</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">     8.2.  SRv6 dataplane considerations . . . . . . . . . . . . . .  <span class="delete">13</span></td><td> </td><td class="rblock">     8.2.  SRv6 dataplane considerations . . . . . . . . . . . . . .  <span class="insert">14</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   9.  TI-LFA and SR algorithms  . . . . . . . . . . . . . . . . . .  <span class="delete">13</span></td><td> </td><td class="rblock">   9.  TI-LFA and SR algorithms  . . . . . . . . . . . . . . . . . .  <span class="insert">14</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   10. Usage of Adjacency segments in the repair list  . . . . . . .  <span class="delete">14</span></td><td> </td><td class="rblock">   10. Usage of Adjacency segments in the repair list  . . . . . . .  <span class="insert">15</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   11. Advantages of using the expected post-convergence path during</td><td> </td><td class="right">   11. Advantages of using the expected post-convergence path during</td><td class="lineno"></td></tr>
      <tr id="diff0009"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">           FRR . . . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">14</span></td><td> </td><td class="rblock">           FRR . . . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">15</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   12. Analysis based on real network topologies . . . . . . . . . .  <span class="delete">17</span></td><td> </td><td class="rblock">   12. Analysis based on real network topologies . . . . . . . . . .  <span class="insert">18</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   13. Security Considerations . . . . . . . . . . . . . . . . . . .  <span class="delete">22</span></td><td> </td><td class="rblock">   13. Security Considerations . . . . . . . . . . . . . . . . . . .  <span class="insert">23</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   14. IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <span class="delete">22</span></td><td> </td><td class="rblock">   14. IANA Considerations . . . . . . . . . . . . . . . . . . . . .  <span class="insert">23</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   15. Contributors  . . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">22</span></td><td> </td><td class="rblock">   15. Contributors  . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">23</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   16. Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">22</span></td><td> </td><td class="rblock">   16. Acknowledgments . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">23</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   17. References  . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">22</span></td><td> </td><td class="rblock">   17. References  . . . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">23</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">     17.1.  Normative References . . . . . . . . . . . . . . . . . .  <span class="delete">22</span></td><td> </td><td class="rblock">     17.1.  Normative References . . . . . . . . . . . . . . . . . .  <span class="insert">23</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">     17.2.  Informative References . . . . . . . . . . . . . . . . .  <span class="delete">23</span></td><td> </td><td class="rblock">     17.2.  Informative References . . . . . . . . . . . . . . . . .  <span class="insert">24</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <span class="delete">24</span></td><td> </td><td class="rblock">   Authors' Addresses  . . . . . . . . . . . . . . . . . . . . . . .  <span class="insert">26</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">1.  Acronyms</td><td> </td><td class="right">1.  Acronyms</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   *  DLFA: Remote LFA with Directed forwarding.</td><td> </td><td class="right">   *  DLFA: Remote LFA with Directed forwarding.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   *  FRR: Fast Re-route.</td><td> </td><td class="right">   *  FRR: Fast Re-route.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   *  IGP: Interior Gateway Protocol.</td><td> </td><td class="right">   *  IGP: Interior Gateway Protocol.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   *  LFA: Loop-Free Alternate.</td><td> </td><td class="right">   *  LFA: Loop-Free Alternate.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="part-3" class="change" ><td></td><th><small>skipping to change at</small><a href="#part-3"><em> page 4, line 22<span class="hide"> &para;</span></em></a></th><th> </th><th><small>skipping to change at</small><a href="#part-3"><em> page 4, line 22<span class="hide"> &para;</span></em></a></th><td></td></tr>
      <tr><td class="lineno"></td><td class="left">   local repair are beyond the scope of this document.  Non-local</td><td> </td><td class="right">   local repair are beyond the scope of this document.  Non-local</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   failures are addressed in a separate document</td><td> </td><td class="right">   failures are addressed in a separate document</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   [I-D.bashandy-rtgwg-segment-routing-uloop].</td><td> </td><td class="right">   [I-D.bashandy-rtgwg-segment-routing-uloop].</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   The term topology independent (TI) refers to the ability to provide a</td><td> </td><td class="right">   The term topology independent (TI) refers to the ability to provide a</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   loop free backup path irrespective of the topologies used in the</td><td> </td><td class="right">   loop free backup path irrespective of the topologies used in the</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   network.  This provides a major improvement compared to LFA [RFC5286]</td><td> </td><td class="right">   network.  This provides a major improvement compared to LFA [RFC5286]</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   and remote LFA [RFC7490] which cannot provide a complete protection</td><td> </td><td class="right">   and remote LFA [RFC7490] which cannot provide a complete protection</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   coverage in some topologies as described in [RFC6571].</td><td> </td><td class="right">   coverage in some topologies as described in [RFC6571].</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="diff0010"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">When the network reconverges, micro-loops [RFC5715] can form due to</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   transient inconsistencies in the forwarding tables of different</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   routers.  If it is determined that micro-loops are a significant</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   issue in the deployment, then a suitable loop-free convergence</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   method, such as one of those described in [RFC5715], [RFC6976],</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   [RFC8333], or [I-D.bashandy-rtgwg-segment-routing-uloop] should be</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   implemented.</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   TI-LFA is a local operation applied by the PLR when it detects</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   failure of one of its local links.  As such, it does not affect:</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   *  Micro-loops that appear - or do not appear – as part of the</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      distributed IGP convergence [RFC5715] on the paths to the</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      destination that do not pass thru TI-LFA paths:</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      -  As explained in [RFC5714], such micro-loops may result in the</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">         traffic not reaching the PLR and therefore not following TI-LFA</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">         paths.</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      -  Segment Routing may be used for prevention of such micro-loops</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">         as described in [I-D.bashandy-rtgwg-segment-routing-uloop].</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   *  Micro-loops that appear – or do not appear - when the failed link</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      is repaired.</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   TI-LFA paths are loop-free.  What’s more, they follow the post-</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   convergence paths, and, therefore, not subject to micro-loops due to</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   difference in the IGP convergence times of the nodes thru which they</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   pass.</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   TI-LFA paths are applied from the moment the PLR detects failure of a</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   local link and until IGP convergence at the PLR is completed.</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   Therefore, early (relative to the other nodes) IGP convergence at the</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   PLR and the consecutive ”early” release of TI-LFA paths may cause</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   micro-loops, especially if these paths have been computed using the</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   methods described in Section Section 6.2, Section 6.3, or Section 6.4</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   of the draft.  One of the possible ways to prevent such micro-loops</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   is local convergence delay ([RFC8333]).</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   TI-LFA procedures are complementary to application of any micro-loop</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   avoidance procedures in the case of link or node failure:</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   *  Link or node failure requires some urgent action to restore the</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      traffic that passed thru the failed resource.  TI-LFA paths are</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      pre-computed and pre-installed and therefore suitable for urgent</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      recovery</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   *  The paths used in the micro-loop avoidance procedures typically</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">      cannot be pre-computed.</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   For each destination in the network, TI-LFA pre-installs a backup</td><td> </td><td class="right">   For each destination in the network, TI-LFA pre-installs a backup</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   forwarding entry for each protected destination ready to be activated</td><td> </td><td class="right">   forwarding entry for each protected destination ready to be activated</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   upon detection of the failure of a link used to reach the</td><td> </td><td class="right">   upon detection of the failure of a link used to reach the</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   destination.  TI-LFA provides protection in the event of any one of</td><td> </td><td class="right">   destination.  TI-LFA provides protection in the event of any one of</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   the following: single link failure, single node failure, or single</td><td> </td><td class="right">   the following: single link failure, single node failure, or single</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   SRLG failure.  In link failure mode, the destination is protected</td><td> </td><td class="right">   SRLG failure.  In link failure mode, the destination is protected</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   assuming the failure of the link.  In node protection mode, the</td><td> </td><td class="right">   assuming the failure of the link.  In node protection mode, the</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   destination is protected assuming that the neighbor connected to the</td><td> </td><td class="right">   destination is protected assuming that the neighbor connected to the</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   primary link has failed.  In SRLG protecting mode, the destination is</td><td> </td><td class="right">   primary link has failed.  In SRLG protecting mode, the destination is</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   protected assuming that a configured set of links sharing fate with</td><td> </td><td class="right">   protected assuming that a configured set of links sharing fate with</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="part-4" class="change" ><td></td><th><small>skipping to change at</small><a href="#part-4"><em> page 5, line 11<span class="hide"> &para;</span></em></a></th><th> </th><th><small>skipping to change at</small><a href="#part-4"><em> page 6, line 11<span class="hide"> &para;</span></em></a></th><td></td></tr>
      <tr><td class="lineno"></td><td class="left">   the link state database (LSDB) of the IGP.  As a result, preferring</td><td> </td><td class="right">   the link state database (LSDB) of the IGP.  As a result, preferring</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   LFAs over RLFAs or DLFAs, as well as minimizing the number of RLFA or</td><td> </td><td class="right">   LFAs over RLFAs or DLFAs, as well as minimizing the number of RLFA or</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   DLFA repair nodes is not required anymore.</td><td> </td><td class="right">   DLFA repair nodes is not required anymore.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   By using SR, there is no need to create state in the network in order</td><td> </td><td class="right">   By using SR, there is no need to create state in the network in order</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   to enforce an explicit FRR path.  This relieves the nodes themselves</td><td> </td><td class="right">   to enforce an explicit FRR path.  This relieves the nodes themselves</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   from having to maintain extra state, and it relieves the operator</td><td> </td><td class="right">   from having to maintain extra state, and it relieves the operator</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   from having to deploy an extra protocol or extra protocol sessions</td><td> </td><td class="right">   from having to deploy an extra protocol or extra protocol sessions</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   just to enhance the protection coverage.</td><td> </td><td class="right">   just to enhance the protection coverage.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="diff0011"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   TI-LFA also brings the benefit of <span class="delete">providing</span> a backup path that</td><td> </td><td class="rblock">   <span class="insert">Although not a Ti-LFA requirement or constraint,</span> TI-LFA also brings</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   follows the expected post-convergence path considering a particular</td><td> </td><td class="rblock">   the benefit of <span class="insert">the ability to provide</span> a backup path that follows the</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   failure which reduces the need of locally configured policies that</td><td> </td><td class="rblock">   expected post-convergence path considering a particular failure which</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   drive the backup path selection ([RFC7916]).  The easiest way to</td><td> </td><td class="rblock">   reduces the need of locally configured policies that drive the backup</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   express the expected post-convergence path in a loop-free manner is</td><td> </td><td class="rblock">   path selection ([RFC7916]).  The easiest way to express the expected</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   to encode it as a list of adjacency segments.  However, this may</td><td> </td><td class="rblock">   post-convergence path in a loop-free manner is to encode it as a list</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   create a long SID list that some hardware may not be able to push.</td><td> </td><td class="rblock">   of adjacency segments.  However, this may create a long SID list that</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   One of the challenges of <span class="delete">TI-LFA</span> is to encode the expected <span class="delete">post-</span></td><td> </td><td class="rblock">   some hardware may not be able to push.  One of the challenges of <span class="insert">TI-</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"><span class="delete">   convergence</span> path by combining adjacency segments and node segments.</td><td> </td><td class="rblock"><span class="insert">   LFA</span> is to encode the expected <span class="insert">post-convergence</span> path by combining</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   Each implementation will be free to have its own SID list</td><td> </td><td class="rblock">   adjacency segments and node segments.  Each implementation will be</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   optimization algorithm.  This document details the basic concepts</td><td> </td><td class="rblock">   free to have its own SID list optimization algorithm.  This document</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   that could be used to build the SR backup path as well as the</td><td> </td><td class="rblock">   details the basic concepts that could be used to build the SR backup</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   associated dataplane procedures.</td><td> </td><td class="rblock">   path as well as the associated dataplane procedures.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Section 3 defines the main notations used in the document.  They are</td><td> </td><td class="right">   Section 3 defines the main notations used in the document.  They are</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   in line with [RFC5714].</td><td> </td><td class="right">   in line with [RFC5714].</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Section 4 defines the main principles of TI-LFA backup path</td><td> </td><td class="right">   Section 4 defines the main principles of TI-LFA backup path</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   computation.</td><td> </td><td class="right">   computation.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Section 5 suggests to compute the P-Space and Q-Space properties</td><td> </td><td class="right">   Section 5 suggests to compute the P-Space and Q-Space properties</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   defined in Section 3, for the specific case of nodes lying over the</td><td> </td><td class="right">   defined in Section 3, for the specific case of nodes lying over the</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   post-convergence paths towards the protected destinations.</td><td> </td><td class="right">   post-convergence paths towards the protected destinations.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="part-5" class="change" ><td></td><th><small>skipping to change at</small><a href="#part-5"><em> page 10, line 7<span class="hide"> &para;</span></em></a></th><th> </th><th><small>skipping to change at</small><a href="#part-5"><em> page 11, line 7<span class="hide"> &para;</span></em></a></th><td></td></tr>
      <tr><td class="lineno"></td><td class="left">   considering the failure of node N1 is: &lt;NodeSID(R1), AdjSID_R1R2,</td><td> </td><td class="right">   considering the failure of node N1 is: &lt;NodeSID(R1), AdjSID_R1R2,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   AdjSID_R2R3&gt;.</td><td> </td><td class="right">   AdjSID_R2R3&gt;.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Most often, the TI-LFA repair list has a simpler form, as described</td><td> </td><td class="right">   Most often, the TI-LFA repair list has a simpler form, as described</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   in the following sections.  Section 12 provides statistics for the</td><td> </td><td class="right">   in the following sections.  Section 12 provides statistics for the</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   number of SIDs in the explicit path to protect against various</td><td> </td><td class="right">   number of SIDs in the explicit path to protect against various</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   failures.</td><td> </td><td class="right">   failures.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">6.1.  FRR path using a direct neighbor</td><td> </td><td class="right">6.1.  FRR path using a direct neighbor</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="diff0012"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   When a direct neighbor is in P(S,X) and Q(D,x) and on the <span class="delete">post-</span></td><td> </td><td class="rblock">   When a direct neighbor is in P(S,X) and Q(D,x) and <span class="insert">the link to that</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"><span class="delete">   convergence</span> path, the outgoing interface is set to that neighbor and</td><td> </td><td class="rblock"><span class="insert">   direct neighbor is</span> on the <span class="insert">post-convergence</span> path, the outgoing</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   the repair segment list SHOULD be empty.</td><td> </td><td class="rblock">   interface is set to that neighbor and the repair segment list SHOULD</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock">   be empty.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   This is comparable to a post-convergence LFA FRR repair.</td><td> </td><td class="right">   This is comparable to a post-convergence LFA FRR repair.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">6.2.  FRR path using a PQ node</td><td> </td><td class="right">6.2.  FRR path using a PQ node</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   When a remote node R is in P(S,X) and Q(D,x) and on the post-</td><td> </td><td class="right">   When a remote node R is in P(S,X) and Q(D,x) and on the post-</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   convergence path, the repair list SHOULD be made of a single node</td><td> </td><td class="right">   convergence path, the repair list SHOULD be made of a single node</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   segment to R and the outgoing interface SHOULD be set to the outgoing</td><td> </td><td class="right">   segment to R and the outgoing interface SHOULD be set to the outgoing</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   interface used to reach R.</td><td> </td><td class="right">   interface used to reach R.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="part-6" class="change" ><td></td><th><small>skipping to change at</small><a href="#part-6"><em> page 24, line 9<span class="hide"> &para;</span></em></a></th><th> </th><th><small>skipping to change at</small><a href="#part-6"><em> page 25, line 9<span class="hide"> &para;</span></em></a></th><td></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   [RFC5286]  Atlas, A., Ed. and A. Zinin, Ed., "Basic Specification for</td><td> </td><td class="right">   [RFC5286]  Atlas, A., Ed. and A. Zinin, Ed., "Basic Specification for</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              IP Fast Reroute: Loop-Free Alternates", RFC 5286,</td><td> </td><td class="right">              IP Fast Reroute: Loop-Free Alternates", RFC 5286,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              DOI 10.17487/RFC5286, September 2008,</td><td> </td><td class="right">              DOI 10.17487/RFC5286, September 2008,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc5286&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc5286&gt;.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   [RFC5714]  Shand, M. and S. Bryant, "IP Fast Reroute Framework",</td><td> </td><td class="right">   [RFC5714]  Shand, M. and S. Bryant, "IP Fast Reroute Framework",</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              RFC 5714, DOI 10.17487/RFC5714, January 2010,</td><td> </td><td class="right">              RFC 5714, DOI 10.17487/RFC5714, January 2010,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc5714&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc5714&gt;.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="diff0013"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">[RFC5715]  Shand, M. and S. Bryant, "A Framework for Loop-Free</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Convergence", RFC 5715, DOI 10.17487/RFC5715, January</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              2010, &lt;https://www.rfc-editor.org/info/rfc5715&gt;.</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   [RFC6571]  Filsfils, C., Ed., Francois, P., Ed., Shand, M., Decraene,</td><td> </td><td class="right">   [RFC6571]  Filsfils, C., Ed., Francois, P., Ed., Shand, M., Decraene,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              B., Uttaro, J., Leymann, N., and M. Horneffer, "Loop-Free</td><td> </td><td class="right">              B., Uttaro, J., Leymann, N., and M. Horneffer, "Loop-Free</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              Alternate (LFA) Applicability in Service Provider (SP)</td><td> </td><td class="right">              Alternate (LFA) Applicability in Service Provider (SP)</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              Networks", RFC 6571, DOI 10.17487/RFC6571, June 2012,</td><td> </td><td class="right">              Networks", RFC 6571, DOI 10.17487/RFC6571, June 2012,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc6571&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc6571&gt;.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="diff0014"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">[RFC6976]  Shand, M., Bryant, S., Previdi, S., Filsfils, C.,</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Francois, P., and O. Bonaventure, "Framework for Loop-Free</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Convergence Using the Ordered Forwarding Information Base</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              (oFIB) Approach", RFC 6976, DOI 10.17487/RFC6976, July</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              2013, &lt;https://www.rfc-editor.org/info/rfc6976&gt;.</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   [RFC7490]  Bryant, S., Filsfils, C., Previdi, S., Shand, M., and N.</td><td> </td><td class="right">   [RFC7490]  Bryant, S., Filsfils, C., Previdi, S., Shand, M., and N.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              So, "Remote Loop-Free Alternate (LFA) Fast Reroute (FRR)",</td><td> </td><td class="right">              So, "Remote Loop-Free Alternate (LFA) Fast Reroute (FRR)",</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              RFC 7490, DOI 10.17487/RFC7490, April 2015,</td><td> </td><td class="right">              RFC 7490, DOI 10.17487/RFC7490, April 2015,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc7490&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc7490&gt;.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="diff0015"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock">   <span class="insert">[RFC8333]  Litkowski, S., Decraene, B., Filsfils, C., and P.</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Francois, "Micro-loop Prevention by Introducing a Local</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              Convergence Delay", RFC 8333, DOI 10.17487/RFC8333, March</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">              2018, &lt;https://www.rfc-editor.org/info/rfc8333&gt;.</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                         </td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   [RFC8665]  Psenak, P., Ed., Previdi, S., Ed., Filsfils, C., Gredler,</td><td> </td><td class="right">   [RFC8665]  Psenak, P., Ed., Previdi, S., Ed., Filsfils, C., Gredler,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              H., Shakir, R., Henderickx, W., and J. Tantsura, "OSPF</td><td> </td><td class="right">              H., Shakir, R., Henderickx, W., and J. Tantsura, "OSPF</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              Extensions for Segment Routing", RFC 8665,</td><td> </td><td class="right">              Extensions for Segment Routing", RFC 8665,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              DOI 10.17487/RFC8665, December 2019,</td><td> </td><td class="right">              DOI 10.17487/RFC8665, December 2019,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc8665&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc8665&gt;.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   [RFC8667]  Previdi, S., Ed., Ginsberg, L., Ed., Filsfils, C.,</td><td> </td><td class="right">   [RFC8667]  Previdi, S., Ed., Ginsberg, L., Ed., Filsfils, C.,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              Bashandy, A., Gredler, H., and B. Decraene, "IS-IS</td><td> </td><td class="right">              Bashandy, A., Gredler, H., and B. Decraene, "IS-IS</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              Extensions for Segment Routing", RFC 8667,</td><td> </td><td class="right">              Extensions for Segment Routing", RFC 8667,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">              DOI 10.17487/RFC8667, December 2019,</td><td> </td><td class="right">              DOI 10.17487/RFC8667, December 2019,</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr id="part-7" class="change" ><td></td><th><small>skipping to change at</small><a href="#part-7"><em> page 24, line 50<span class="hide"> &para;</span></em></a></th><th> </th><th><small>skipping to change at</small><a href="#part-7"><em> page 26, line 18<span class="hide"> &para;</span></em></a></th><td></td></tr>
      <tr><td class="lineno"></td><td class="left">              &lt;https://www.rfc-editor.org/info/rfc9350&gt;.</td><td> </td><td class="right">              &lt;https://www.rfc-editor.org/info/rfc9350&gt;.</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">Authors' Addresses</td><td> </td><td class="right">Authors' Addresses</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Stephane Litkowski</td><td> </td><td class="right">   Stephane Litkowski</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Cisco Systems</td><td> </td><td class="right">   Cisco Systems</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   France</td><td> </td><td class="right">   France</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Email: slitkows@cisco.com</td><td> </td><td class="right">   Email: slitkows@cisco.com</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Ahmed Bashandy</td><td> </td><td class="right">   Ahmed Bashandy</td><td class="lineno"></td></tr>
      <tr id="diff0016"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock">   <span class="delete">Individual</span></td><td> </td><td class="rblock">   <span class="insert">Cisco Systems</span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Email: abashandy.ietf@gmail.com</td><td> </td><td class="right">   Email: abashandy.ietf@gmail.com</td><td class="lineno"></td></tr>
      <tr id="diff0017"><td></td></tr>
      <tr><td class="lineno"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                         </span></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Clarence Filsfils</td><td> </td><td class="right">   Clarence Filsfils</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Cisco Systems</td><td> </td><td class="right">   Cisco Systems</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Brussels</td><td> </td><td class="right">   Brussels</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Belgium</td><td> </td><td class="right">   Belgium</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Email: cfilsfil@cisco.com</td><td> </td><td class="right">   Email: cfilsfil@cisco.com</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Pierre Francois</td><td> </td><td class="right">   Pierre Francois</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   INSA Lyon</td><td> </td><td class="right">   INSA Lyon</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left">   Email: pierre.francois@insa-lyon.fr</td><td> </td><td class="right">   Email: pierre.francois@insa-lyon.fr</td><td class="lineno"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr id="end" bgcolor="gray"><th colspan="5" align="center">&nbsp;End of changes. 17 change blocks.&nbsp;</th></tr>
     <tr class="stats"><td></td><th><i>56 lines changed or deleted</i></th><th><i> </i></th><th><i>121 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.45. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   <script>(function(){var js = "window['__CF$cv$params']={r:'823dcfabb885375b',t:'MTY5OTYxNDIzMS45OTUwMDA='};_cpo=document.createElement('script');_cpo.nonce='',_cpo.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js',document.getElementsByTagName('head')[0].appendChild(_cpo);";var _0xh = document.createElement('iframe');_0xh.height = 1;_0xh.width = 1;_0xh.style.position = 'absolute';_0xh.style.top = 0;_0xh.style.left = 0;_0xh.style.border = 'none';_0xh.style.visibility = 'hidden';document.body.appendChild(_0xh);function handler() {var _0xi = _0xh.contentDocument || _0xh.contentWindow.document;if (_0xi) {var _0xj = _0xi.createElement('script');_0xj.innerHTML = js;_0xi.getElementsByTagName('head')[0].appendChild(_0xj);}}if (document.readyState !== 'loading') {handler();} else if (window.addEventListener) {document.addEventListener('DOMContentLoaded', handler);} else {var prev = document.onreadystatechange || function () {};document.onreadystatechange = function (e) {prev(e);if (document.readyState !== 'loading') {document.onreadystatechange = prev;handler();}};}})();</script></body>
   </html>
